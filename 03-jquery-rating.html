<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="css/styles.css"/>
    <script src="js/jquery.js"></script>
    <script>
      $(document).ready( function() {


            $(".star").click( function() {
              
                const value= $(this).attr('data-value')

              //stap 1: Clear all the red stars
              $(".star").removeClass ('red')

              ///2. Paint it red!
              $('.star').each( (index, elem)=> {
                const itemValue= $(elem).attr ('data-value')
                if (itemValue <= value) {
                  $(elem).addClass ('red')
                }
              })

              /// stap 3: ajax
              $.ajax ({
                    url:"https://api.dev-master.ninja/js/rating",
                    method: "POST",
                    data: { "rating": value},
                    success: function (result) {
                       console.log(result)
                    }
             })

            })
    
      })
    </script>

  </head>
  <body>
    <span class="star" data-value="1">*</span>
    <span class="star" data-value="2">*</span>
    <span class="star" data-value="3">*</span>
    <span class="star" data-value="4">*</span>
    <span class="star" data-value="5">*</span>

  </body>
</html>
